// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}


//Models

//Tipos como entrada, saida, etc
model TypeMovement {
    id                  Int         @id @default(autoincrement())
    name                String      @unique
    description         String
    cashMovement        CashMovement[]
}

//Registro de entradas e saídas
model CashMovement {
    id              Int             @id @default(autoincrement())
    association     String          // Ifood
    budget          Budget          @relation(fields: [budgetId], references: [id])
    budgetId        Int             //Restaurante
    description     String          //Comida japonesa
    cash            Decimal         @db.Decimal(10, 2)
    dateToPay       DateTime?       @db.Date
    typeMovement    TypeMovement    @relation(fields: [typeMovementId], references: [id])
    typeMovementId  Int
}

//Utilizar como valor total até para abater valores de contas e investimentos
model Budget {
    id              Int         @id @default(autoincrement())
    name            String      //Restaurante
    description     String      //Destinado a gastos com restaurantes, ifood, etc.
    cash            Decimal     @db.Decimal(10, 2)
    initialCash     Decimal     @db.Decimal(10, 2)

    cashMovement    CashMovement[]
}